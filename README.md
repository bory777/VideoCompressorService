# VideoCompressorService

## 概要

このプロジェクトは、クライアントからサーバにMP4ファイルをアップロードし、指定された操作（圧縮、解像度変更、アスペクト比変更、オーディオ抽出、GIF作成、WEBM作成）を実行するPythonプログラムです。

## 前提条件

- Python 3.x
- FFmpeg がインストールされていること

## 使用方法

### サーバの起動

1. サーバスクリプトを実行します。

   ```sh
   python3 server.py
   ```

2. サーバを終了するには、コンソールで`exit`と入力します。

### クライアントの実行

1. クライアントスクリプトを実行します。

   ```sh
   python3 client.py
   ```

2. プロンプトに従って、アップロードするファイルのパスを入力します。

3. 実行する操作を選択し、必要なオプションを入力します。

4. ファイルがサーバに送信され、指定された操作が実行されます。処理結果のファイルがダウンロードフォルダに保存されます。

### サポートされる操作

- **compress**: ファイルを圧縮します。
- **change_resolution**: 指定された解像度に変更します（例：`640x480`）。
- **change_aspect_ratio**: 指定されたアスペクト比に変更します（例：`16:9`）。
- **extract_audio**: オーディオを抽出し、MP3ファイルとして保存します。
- **create_gif**: 指定された開始時間と長さでGIFを作成します。
- **create_webm**: 指定された開始時間と長さでWEBMを作成します。

## ディレクトリ構成

```
.
├── client.py
├── server.py
├── uploads/
│   └── ... (アップロードされたファイル)
├── output/
│   └── ... (処理されたファイル)
└── README.md
```

## エラー処理

サーバ側でエラーが発生した場合、クライアントにエラーメッセージが送信され、詳細が表示されます。

### 例外処理の例

- ファイルが存在しない場合
- mp4ファイルではない場合
- 未知の操作が指定された場合
- サーバの容量が不足している場合

## 重要な注意点

- サーバ側の最大ストレージ容量は4TBに設定されています。
- サーバとクライアントの間の通信は暗号化されていません。

